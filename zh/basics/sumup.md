# 小結

現在對本章作個總結。

### 配置文件格式

V2Ray 的配置文件格式就像這樣：

```json
{
  "log": {},
  "inbounds": [],
  "outbounds": [],
  "routing": {},
  "transport": {},
  "dns": {},
  "reverse": {},
  "policy": {},
  "stats": {},
  "api": {}
}
```

總的來說，V2Ray 的配置有 10 個字段，每個字段都可以進一步展開成具體的配置。這些配置字段當中，本章有涉及到前面 4 項，關於 `dns` 、`transport` 和 `reverse` 將在後文說明。而 `api`、`policy` 和 `stats` 的內容暫未提供，對這些感興趣的仔細研究手冊吧。配置文件的詳細信息可以參考[手冊](https://www.v2ray.com/chapter_02/01_overview.html)。

要理解 V2Ray 的工作模式，首先得拋開客戶端和服務器的概念(教程中說客戶端和服務器是習慣了)，我們更應該以中轉節點的概念來理解。 V2Ray 只是一個轉發數據的軟件，只要它從入口當中接收到數據包，不管 V2Ray 對這些數據包做了什麼（加密、解密、協議轉換等），到最後肯定是要把這些數據包從出口發出去。每一個運行的 V2Ray 都是一個節點，它從上一個節點接收數據，發送到下一個節點，在這樣由多個節點組成的代理鏈中，首節點和末節點就是我們常說的客戶端和服務器。更廣義地說，每個節點對於上一個節點來說是服務器，對於下一個節點來說是客戶端。


### 協議

無論是出口還是入口，我們首先要明確的是協議，只有協議對了才能正常通信。

V2Ray 的傳入協議有 HTTP、SOCKS、VMess、Shadowsocks、Dokodemo-door；傳出協議有 VMess、Shadowsocks、Blackhole、Freedom、SOCKS。

在 inbounds 和 outbounds 當中，無論使用了什麼協議，inbounds 或者 outbounds 的配置格式都是一樣的，區別只在於不同的協議對應的 settings 內容不一樣。

-----
#### 更新歷史

- 2018-04-05 補充
- 2018-11-09 跟進 v4.0+ 配置格式
- 2019-07-12 添加手冊鏈接
