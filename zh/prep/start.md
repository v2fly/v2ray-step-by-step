# 部署之前

本節將說明在部署 V2Ray 的過程中需要注意的一些細節，看似無關緊要，但有些許差錯可能就會造成部署失敗。所以請大家請仔細閱讀，在部署的過程如果遇到問題了，也請檢查一下是不是哪些地方做得不到位。

## 時間是否準確

V2Ray 對於時間有比較嚴格的要求，要求服務器和客戶端時間差絕對值不能超過 2 分鐘，所以一定要保證時間足夠準確。還好 V2Ray 並不要求時區一致。比如說自個兒電腦上的時間是北京時間（東 8 區）2017-07-31 12:08:31，但是 VPS 上的時區是東 9 區，所以 VPS 上的時間應該是2017-07-31 13:06:31 到 2017-07-31 13:10:31 之間才能正常使用 V2Ray。當然，也可以自行改成自己想要的時區。

## Linux 版本的問題

感謝 Golang 編程語言提供的特性和原作者的精心設計，V2Ray 可以不依賴其它軟件（庫）而運行，並且提供了跨平臺支持（如： Windows, Linux, MacOS, BSD等）。但是由於新手在學習使用過程中可能會遇到各種問題，卻缺乏相應的解決問題的能力，因此在 VPS 上建議使用 Debian 9.x, Debian 10 以上或 Ubuntu 18.04 及以上的 Linux 發行版。請不要迷信某個（些）“最穩定”的 Linux 發行版。

## 防火牆

一些 Linux 發行版，VPS 商家，以及某些雲計算平臺默認提供了防火牆/安全組等功能，因此正確部署了 V2Ray 之後因爲錯誤的防火牆/安全組設置，會導致 V2Ray 無法連接成功。這時候你就要檢查一下是否可能是防火牆的問題。具體情況你可以發工單問客服或 Google。

## 啓動問題

使用腳本新安裝 V2Ray 後不會自動運行，而是要自己手動運行。另外如果修改了配置文件，要重新啓動 V2Ray 新的配置纔會生效。

## 配置文件的格式問題

因爲 V2Ray 的配置文件比較長，層級也多，導致編輯時很容易出錯，也難檢查。如果使用在線的 JSON 工具（當然也有離線 的），可以檢查文件格式是否正確。這種在線工具一搜一大把，就不打廣告了。

## 代理設置問題

在指南中使用的 FireFox 瀏覽器，設置的是 socks 代理。但是有的朋友喜歡用其它瀏覽器，那麼我提示一下，客戶端的 inbound 可以使用 HTTP 協議，並在 IE 選項中設置代理。或者也可以使用瀏覽器插件，如 SwitchyOmega 等。

### 部署過程中的命令

在 Shell 命令行終端中，所有命令行都以 `$` 開頭，不以 `$` 開頭的都不是命令。所以在實際輸入命令時，都不需要將 `$` 輸進去。

::: warning 提醒
另外，本指南當中所有帶 `sudo` 的命令都需要 su 權限。如果你不明白這句話的意思，可以直接使用 root 賬戶，則在輸入命令時不需要輸入 `sudo` 這幾個字符。
:::

## 閱讀的問題

無論是在網絡上，還是現實生活中，我發現不少人很喜歡跳躍式看文章/書/教程，自以爲只看關鍵的東西就足夠了，似乎這樣子非常高效。實際上這樣子做大多會花更多的時間才能達到同樣的效果。所以如果你剛接觸 V2Ray，又不太會使用，建議按照本指南的順序並看完。

## 絕技！最終解決問題

很遺憾，我們沒有能力預測所有可能出現的問題。但是，一般來說，你遇到的所有問題都有人早就遇到了，並且還給出了相應的解決辦法（除非你是該行業的頂尖人才，遇到的是需要調用浩瀚的資源纔有希望解決的問題）。所以如果遇到問題，可以通過搜索引擎搜索解決，到社區裏提問是迫不得已的辦法。在部署 V2Ray 的過程中，所遇到所有的問題有 90% 以上的問題可以通過搜索或者查看相關文檔解決，要社區提問才能解決的不足 5%。如果不是，那麼只能說明你的綜合能力還需提高（比如查資料的能力、閱讀理解能力的）。當然，我們並不反對到社區提問，而是希望提問的東西能夠有點意義，誰也不願意自己就像個復讀機一樣天天回答網友們千篇一律的問題。如果有提問的需要，強烈建議先認真學習一個[提問的智慧](https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md)。

#### 更新歷史

- 2019-07-11 修改排版，修訂語句，跟進 Linux 發行版更新之後的版本描述。
- 2019-09-07 修正錯別字
